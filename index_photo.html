<script>
/* CONFIG */
const CONFIG={
    password:"forever",
    lockTitle:"ðŸ’ŒðŸ’‹ Private Memories",
    lockSubtitle:"Only for you & me",
    title:"Our Lovely Moments â¤ï¸",
    subtitle:"Every picture here holds a memory I never want to forget",
    music:"music/romantic.mp3",

    polaroids:[
        {img:"images/1.jpg", text:"The day we couldnâ€™t stop laughing ðŸ˜‚â¤ï¸"},
        {img:"images/2.jpg", text:"Our first proper selfie together ðŸ“¸ðŸ¥°"},
        {img:"images/3.jpg", text:"That random moment that became special ðŸ’•"},
        {img:"images/4.jpg", text:"You looking too cute here ðŸ˜ŒðŸ’–"},
        {img:"images/5.jpg", text:"One of my favorite memories ever â¤ï¸"},
        {img:"images/6.jpg", text:"Forever my person ðŸ’"},
        {img:"images/7.jpg", text:"The smile I fell for ðŸ¥¹"},
        {img:"images/8.jpg", text:"This moment = pure happiness âœ¨"},
        {img:"images/9.jpg", text:"You + Me = Always â¤ï¸"},
        {img:"images/10.jpg", text:"Still my favorite place ðŸ«¶"}
    ],

    stickers:[
        "stickers/1.png","stickers/2.png","stickers/3.png","stickers/4.png",
        "stickers/5.png","stickers/6.png","stickers/7.png","stickers/8.png",
        "stickers/9.png","stickers/10.png","stickers/11.png","stickers/12.png",
        "stickers/13.png","stickers/14.png","stickers/15.png","stickers/16.png",
        "stickers/17.png","stickers/18.png","stickers/19.png","stickers/20.png"
    ]
};

/* INIT */
lockTitle.innerText=CONFIG.lockTitle;
lockSub.innerText=CONFIG.lockSubtitle;
title.innerText=CONFIG.title;
subtitle.innerText=CONFIG.subtitle;
bgMusic.src=CONFIG.music;

/* ðŸ”¥ SHUFFLE STICKERS (NO REPEAT LOGIC ADDED) */
let shuffledStickers = [...CONFIG.stickers]
    .sort(() => 0.5 - Math.random());
let stickerIndex = 0;

/* POLAROIDS */
CONFIG.polaroids.forEach(p=>{
    const wrap=document.createElement('div');
    wrap.className='polaroid-wrap';
    wrap.innerHTML=`
        <div class="polaroid" style="--r:${Math.random()}">
            <img src="${p.img}" onclick="openViewer(this.src)">
            <div class="caption">${p.text}</div>
        </div>`;
    wall.appendChild(wrap);

    [-40,130].forEach(top=>{
        const s=document.createElement('div');
        s.className='sticker';
        s.style.width=(Math.random()*30+80)+'px';
        s.style.top=top+'px';
        Math.random()>0.5?s.style.left='-60px':s.style.right='-60px';
        const img=document.createElement('img');

        /* âœ… USE NEXT STICKER WITHOUT REPEAT */
        img.src = shuffledStickers[stickerIndex];
        stickerIndex++;

        s.appendChild(img);
        wrap.appendChild(s);
    });
});

/* HEARTS */
for(let i=0;i<30;i++){
    const h=document.createElement('div');
    h.className='heart';
    h.innerHTML=Math.random()>0.5?'ðŸ’–':'ðŸ’•';
    h.style.left=Math.random()*100+'%';
    h.style.bottom='-20px';
    h.style.animationDelay=Math.random()*8+'s';
    hearts.appendChild(h);
}

/* PASSWORD */
function unlock(){
    if(pass.value===CONFIG.password){
        lock.style.display='none';
    }else{
        error.innerText="Wrong password ðŸ˜Œ";
    }
}

/* VIEWER */
function openViewer(src){ viewer.style.display="flex"; viewerImg.src=src; }
function closeViewer(){ viewer.style.display="none"; }

/* MUSIC */
let playing=false;
function toggleMusic(){
    playing?bgMusic.pause():bgMusic.play();
    playing=!playing;
}

/* YES */
function sayYes(){
    yesScreen.style.display='flex';
    const emojis=["ðŸ’–","ðŸ˜","ðŸ¥°","ðŸ’","ðŸ’ž","â¤ï¸"];
    const rain=setInterval(()=>{
        const e=document.createElement('div');
        e.className='emoji';
        e.innerText=emojis[Math.floor(Math.random()*emojis.length)];
        e.style.left=Math.random()*100+'%';
        emojiLayer.appendChild(e);
        setTimeout(()=>e.remove(),3000);
    },120);

    setTimeout(()=>{
        clearInterval(rain);
        yesScreen.style.display='none';
    },4500);
}

/* NO */
function sayNo(){
    noScreen.style.display='flex';
}
</script>