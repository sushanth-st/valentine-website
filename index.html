<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<!-- CACHE BUSTING -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>üíñ Just One Question</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
html,body{height:100%;overflow:hidden}

body{
  margin:0;
  font-family:Poppins,sans-serif;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:background 0.6s ease;
}

body.dark{background:linear-gradient(135deg,#16001a,#2b0036)!important}

.app{
  width:100%;
  max-width:420px;
  height:100%;
  padding:16px;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
}

.card{
  width:100%;
  background:#fff;
  border-radius:22px;
  padding:26px 22px;
  box-shadow:0 14px 40px rgba(0,0,0,.15);
  text-align:center;
}

body.dark .card{background:#2a0033;color:#fff}
body.dark p{color:#ddd}

h1{font-family:'Playfair Display',serif;font-size:1.9rem;margin:0 0 14px}
p{margin:0 0 14px;color:#555}

button{border:none;border-radius:999px;padding:14px 28px;font-size:1.05rem;cursor:pointer}
.primary{background:#ff5fa2;color:#fff}
.secondary{background:#ddd}

.buttons{margin-top:18px;height:140px;position:relative}

#yesBtn{position:absolute;left:50%;top:50%;transform:translate(-120%,-50%)}
#noBtn{position:absolute;left:50%;top:50%;transform:translate(20%,-50%)}

.back,.toggle{
  position:absolute;
  top:12px;
  padding:8px 14px;
  font-size:.85rem;
  background:#eee;
}
.back{left:12px}
.toggle{right:12px}
.hidden{display:none}

.toast{
  position:absolute;
  top:12px;
  left:50%;
  transform:translateX(-50%);
  background:#ff5fa2;
  color:#fff;
  padding:10px 18px;
  border-radius:20px;
  font-size:.9rem;
  z-index:30;
}

.popup-img{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  max-width:80%;
  border-radius:18px;
  box-shadow:0 18px 40px rgba(0,0,0,.3);
  opacity:0;
  animation:fadeImg 3s forwards;
  z-index:50;
}

@keyframes fadeImg{
  0%{opacity:0;transform:translate(-50%,-50%) scale(.9)}
  15%{opacity:1}
  85%{opacity:1}
  100%{opacity:0}
}

/* Final scroll container for full content */
.final-scroll-container{
  max-height:80vh;
  overflow-y:auto;
  -webkit-overflow-scrolling:touch;
  padding-right:8px;
}

.final-scroll img{
  width:100%;
  border-radius:16px;
  margin-top:14px;
}

/* üî• Explosion animation */
@keyframes explode {
  0% {transform: scale(0); opacity:1;}
  50% {transform: scale(1.5); opacity:0.8;}
  100% {transform: scale(1); opacity:1;}
}

.explosion{
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:2.5rem;
  color:#ff5fa2;
  animation: explode 0.6s ease forwards;
  z-index:100;
}

/* Particle styles */
.particle {
  position:absolute;
  font-size:1.2rem;
  z-index:200;
  pointer-events:none;
  user-select:none;
  will-change: transform, opacity;
}
</style>
</head>

<body>

<div class="app">
  <button class="back hidden" id="backBtn">‚¨Ö Back</button>
  <button class="toggle" onclick="toggleDark()">üåô</button>
  <div class="card" id="screen"></div>
</div>

<script>
/**************************************************
 * üîß EDITABLE CONTENT SECTION (SAFE TO EDIT)
 **************************************************/
const SITE = {
  intro: { 
    title: "Okay Listen to my my Appukutty ü´∞üòå", 
    message: "I had one job‚Ä¶\nAnd that was to make you smile today which I don't do normally üòÑ\nIf I succeed, you‚Äôll know exactly what to do at the end üòèüíñ\nIf I fail‚Ä¶ I‚Äôll still pretend I tried üòú" 
  },

  sections: [
    { 
      title:"Funny üòÑ", 
      bg:"linear-gradient(135deg,#ffe4f2,#fff)", 
      intro:"Let‚Äôs start easy üòú", 
      questions:[
        "Be honest‚Ä¶\nYou‚Äôre hating this already, right? üòè",
        "Okay, serious question‚Ä¶\nDo you agree I‚Äôm the worst boyfriend in the world? üòåüíñ",
        "Do you agree I make you cry more than I make you laugh? ü•∫üíñ",
        "Tell me the truth‚Ä¶\nYou hate every gift I‚Äôve ever given you, right? ü•∫üéÅ\nNone of them were good üòå"
      ], 
      yesImage:"Images/image1.jpg", 
      yesAudio:"Audio/ydaudio.mp3", 
      noAudio:"Audio/ydaudio.mp3" 
    },
    { 
      title:"Romantic üåπ", 
      bg:"linear-gradient(135deg,#fff0f6,#ffe6f0)", 
      intro:"Feel the romance üíï", 
      questions:[
        "Do you ever feel like I don‚Äôt love you enough? ü•∫‚ù§Ô∏è",
        "Do you think I‚Äôm not romantic enough with you? üåπüòå",
        "Do you secretly think I‚Äôm a baaad kisser? üòòüòú",
        "Do you think I should start behaving more decently when I‚Äôm with you? üôàüòá"
      ], 
      yesImage:"Images/image1.jpg", 
      yesAudio:"Audio/ydaudio.mp3", 
      noAudio:"Audio/ydaudio.mp3" 
    },
    { 
      title:"Hot üî•", 
      bg:"linear-gradient(135deg,#ffd6e0,#ff9ecf)", 
      intro:"Things heat up üòè", 
      questions:[
        "Be very honest‚Ä¶\nYou don‚Äôt like it when I grab you and pull you close to me, right? üòè",
        "Tell me the truth‚Ä¶\nMy touch doesn‚Äôt make your heart beat faster at all‚Ä¶\nYou don‚Äôt feel anything when I touch you, right? ü•∫üî•",
        "This is the truth‚Ä¶\nYou hate it when I grab you, bite you, play with you, and leave little marks on the strawberryüçìüòå",
        "One last honest answer‚Ä¶\nYou don‚Äôt like it when I look at you naked, right? üòèüî•"
      ], 
      yesImage:"Images/image1.jpg", 
      yesAudio:"Audio/ydaudio.mp3", 
      noAudio:"Audio/ydaudio.mp3" 
    },
    { 
      title:"Spicy üå∂Ô∏è", 
      bg:"linear-gradient(135deg,#ffb3c6,#ff4d6d)", 
      intro:"Secret zone üòà", 
      passcode:"daddy", 
      hint:"Who am I to you in your wild thoughts?", 
      wrongMessage:"Whatt..You don't knowüò≠ i love to hear you call me that name", 
      questions:[
        "You don‚Äôt like eating chilli, and that‚Äôs why you end up crying when you eat it, right? üå∂Ô∏èüòå",
        "You don‚Äôt want to send me a dancing nude video because you hate me looking at you like that, right? üòèüî•",
        "You don‚Äôt enjoy playing naughty truth or dare games with me at all, do you? üòèüòèüòè",
        "You don‚Äôt like sending me nude snaps every day ‚Äî that‚Äôs why you even uninstalled Snapchat, right? üòåüìµ"
      ], 
      yesImage:"Images/image1.jpg", 
      yesAudio:"Audio/ydaudio.mp3", 
      noAudio:"Audio/ydaudio.mp3" 
    }
  ],

  finalMessage:`Hope you liked this small journey Baby,  but really all I wanted to say was

Every beat of my heart
Keeps saying‚Ä¶ I choose you üòå‚ù§Ô∏è
You make my world brighter,
my smile wider,
and every day worth loving üíï
Today, on Valentine‚Äôs Day, I just want to remind you‚Ä¶
You‚Äôre my favorite everything,
my heart, my smile, my forever üòòüíñ
Happy Valentine‚Äôs Day, my love! üåπüíå`,

  finalImages:["Images/image1.jpg","Images/image1.jpg","Images/image1.jpg","Images/image1.jpg","Images/image1.jpg"],
  finalYesImage:"Images/image1.jpg",
  finalYesAudio:"Audio/ydaudio.mp3",
  noClickMessages:[
    "Nice try üòå but NO isn‚Äôt an option today",
    "Lying doesn‚Äôt suit you üòåüíî",
    "Your heart says YES‚Ä¶ your finger is confused üíñ"
  ]
};

/**************************************************
 * üö´ LOGIC SECTION (DO NOT EDIT)
 **************************************************/
let section=0,question=0,mode="start",autoScrollTimer=null;
const history=[],screen=document.getElementById('screen'),backBtn=document.getElementById('backBtn');

const yesBtn=document.createElement('button'); yesBtn.id='yesBtn'; yesBtn.className='primary'; yesBtn.textContent='YES üíñ';
const noBtn=document.createElement('button'); noBtn.id='noBtn'; noBtn.className='secondary'; noBtn.textContent='NO üòÖ';

function toggleDark(){document.body.classList.toggle('dark')}
function setBG(){if(!document.body.classList.contains('dark'))document.body.style.background=SITE.sections[section]?.bg||"#fff"}

function playEffect(img,audio){ if(audio)new Audio(audio).play().catch(()=>{}); if(img){const i=document.createElement('img');i.src=img;i.className='popup-img';document.body.appendChild(i);setTimeout(()=>i.remove(),3000);}}

function moveNoButton(){const box=noBtn.parentElement;if(!box)return; const maxX=box.clientWidth-noBtn.offsetWidth; const maxY=box.clientHeight-noBtn.offsetHeight; noBtn.style.left=Math.random()*maxX+"px"; noBtn.style.top=Math.random()*maxY+"px"; noBtn.style.transform="none";}

function save(){history.push({section,question,mode});backBtn.classList.remove('hidden')}
backBtn.onclick=()=>{if(!history.length)return; const h=history.pop(); section=h.section;question=h.question;mode=h.mode;render();if(!history.length)backBtn.classList.add('hidden')};

function render(){
  setBG();
  if(mode==="start")renderStart();
  else if(mode==="intro")renderIntro();
  else if(mode==="question")renderQuestion();
  else if(mode==="password")renderPassword();
  else if(mode==="final")renderFinal();
  else if(mode==="secret")renderSecret();
}

function renderStart(){screen.innerHTML=`<h1>${SITE.intro.title}</h1><p>${SITE.intro.message}</p><button class="primary" onclick="begin()">Start üíñ</button>`}
function begin(){save();mode="intro";render()}

function renderIntro(){screen.innerHTML=`<h1>${SITE.sections[section].title}</h1><p>${SITE.sections[section].intro}</p><button class="primary" onclick="startQuestions()">Continue</button>`}
function startQuestions(){save();question=0;mode="question";render()}

function renderQuestion(){
  screen.innerHTML=`<h1>${SITE.sections[section].questions[question]}</h1><div class="buttons"></div>`;
  const box=screen.querySelector('.buttons');
  box.append(yesBtn,noBtn);
  bindButtons();
}

function renderPassword(){
  const s=SITE.sections[section];
  screen.innerHTML=`<h1>üîê Enter Password</h1><p>${s.hint}</p><input id="pw" style="width:100%;padding:12px;border-radius:10px"><p id="err" style="color:#ff4d6d"></p><button class="primary" onclick="checkPw()">Unlock</button>`;
}

function renderFinal(){
  screen.innerHTML=`
    <div class="final-scroll-container" id="scrollBox">
      <h1>${SITE.finalMessage}</h1>
      <div class="final-scroll">
        ${SITE.finalImages.map(i=>`<img src="${i}">`).join("")}
      </div>
      <p style="margin-top:16px">Liked the surprise so far? üíñ</p>
      <button class="primary" onclick="startCountdown()">View Secret Message üíå</button>
    </div>
  `;
  playEffect(SITE.finalYesImage,SITE.finalYesAudio);

  const box=document.getElementById('scrollBox');
  let pause=false;
  box.addEventListener('touchstart',()=>pause=true);
  box.addEventListener('touchend',()=>pause=false);

  clearInterval(autoScrollTimer);
  autoScrollTimer=setInterval(()=>{
    if(!pause){
      box.scrollTop+=1;
      if(box.scrollTop+box.clientHeight>=box.scrollHeight)box.scrollTop=0;
    }
  },40);
}

// üî• Countdown 5 sec + amazing burst
function startCountdown(){
  let count=5;
  screen.innerHTML=`<h1>Get ready! üí•</h1><p style="font-size:2rem">${count}</p>`;
  const countdownInterval=setInterval(()=>{
    count--;
    if(count>0) screen.querySelector('p').textContent=count;
    else{
      clearInterval(countdownInterval);
      showExplosionSecret();
    }
  },1000);
}

function showExplosionSecret(){
  const emojis = ["üíñ","‚ú®","üî•","üí´","üéâ"];
  const numParticles = 25;

  // Flash background
  const flash = document.createElement('div');
  flash.style.position='fixed';
  flash.style.top='0'; flash.style.left='0'; flash.style.width='100%'; flash.style.height='100%';
  flash.style.background='white';
  flash.style.opacity='0.6';
  flash.style.zIndex='150';
  document.body.appendChild(flash);
  setTimeout(()=>flash.remove(),120);

  // Particle explosion
  for(let i=0;i<numParticles;i++){
    const p = document.createElement('div');
    p.className='particle';
    p.textContent=emojis[Math.floor(Math.random()*emojis.length)];
    document.body.appendChild(p);
    const angle=Math.random()*2*Math.PI;
    const dist=50+Math.random()*100;
    const size=12+Math.random()*18;
    p.style.fontSize=size+'px';
    p.style.left='50%';
    p.style.top='50%';
    p.style.opacity=1;
    const animDuration=1000+Math.random()*500;

    const start = Date.now();
    const anim = setInterval(()=>{
      const t = (Date.now()-start)/animDuration;
      if(t>=1){p.remove(); clearInterval(anim); return;}
      p.style.left = `calc(50% + ${Math.cos(angle)*dist*t}px)`;
      p.style.top = `calc(50% + ${Math.sin(angle)*dist*t}px)`;
      p.style.opacity = 1-t;
      p.style.transform = `rotate(${360*t}deg) scale(${1-t*0.5})`;
    },16);
  }

  // Confetti fall
  for(let i=0;i<30;i++){
    const c = document.createElement('div');
    c.className='particle';
    c.textContent=emojis[Math.floor(Math.random()*emojis.length)];
    document.body.appendChild(c);
    c.style.left=Math.random()*window.innerWidth+'px';
    c.style.top='-20px';
    const animDuration=2000+Math.random()*1000;
    const start = Date.now();
    const anim = setInterval(()=>{
      const t = (Date.now()-start)/animDuration;
      if(t>=1){c.remove(); clearInterval(anim); return;}
      c.style.top = -20 + t* (window.innerHeight+40)+'px';
      c.style.transform = `rotate(${t*720}deg)`;
      c.style.opacity = 1-t;
    },16);
  }

  setTimeout(openSecret,1200);
}

function openSecret(){save();mode="secret";render()}

function renderSecret(){screen.innerHTML=`<h1>üíñ Secret</h1><p>Just for you üòò</p>`}

function bindButtons(){
  yesBtn.onclick=()=>{
    const s=SITE.sections[section]; playEffect(s.yesImage,s.yesAudio); save();question++;
    if(question<4){render();return;}
    section++;question=0;
    if(section>=SITE.sections.length){mode="final";render();return;}
    SITE.sections[section].passcode?renderPassword():renderIntro();
  };

  noBtn.onclick=()=>{
    moveNoButton();
    const s=SITE.sections[section];
    if(s.noAudio)new Audio(s.noAudio).play().catch(()=>{});
    toast(SITE.noClickMessages[Math.random()*SITE.noClickMessages.length|0]);
  };
}

// ‚úÖ PASSWORD FIX: NOT CASE-SENSITIVE
function checkPw(){
  const input=document.getElementById('pw').value.trim().toLowerCase();
  const pass=SITE.sections[section].passcode.toLowerCase();
  if(input!==pass